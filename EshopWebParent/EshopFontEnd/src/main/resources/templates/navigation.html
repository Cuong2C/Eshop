<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<body>
	<div class="mb-2 p-0" th:fragment="header_menu">
		<nav class="navbar navbar-expand-lg bg-dark navbar-dark">
		
			<th:block sec:authorize="isAuthenticated()">
				<form th:action="@{/logout}" method="post" th:hidden="true"
					name="logoutForm">
					<input type="submit" value="Logout" />
				</form>
			</th:block>
			
			<a class="navbar-brand" th:href="@{/}"> <img
				style="width: 125px; height: 75px;"
				th:src="@{${S3_BASE_URI + SITE_LOGO}}" />
			</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse"
				data-target="#navbarNavDropdown">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse justify-content-end navtext" id="navbarNavDropdown">
				<ul class="navbar-nav mr-2">
					<li class="nav-item">
						<a class="nav-link" href="">Careers</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="">Payments</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="">Shipping & Delivery</a>
					</li>
					<th:block sec:authorize="!isAuthenticated()">
						<li class="nav-item">
							<a class="nav-link" th:href="@{/login}">Login</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" th:href="@{/register}">Register</a>
						</li>
					</th:block>
					<li class="nav-item">
						<a class="nav-link" href="">Contact</a>
					</li>
					
					<th:block sec:authorize="isAuthenticated()">
						
							<li class="nav-item">
								<a class="nav-link" th:href="@{/address_book}">Address Book</a>
							</li>

							<li class="nav-item">
								<a class="nav-link" href="">Questions</a>
							</li>

							<li class="nav-item">
								<a class="nav-link" th:href="@{/reviews}">Reviews</a>
							</li>

							<li class="nav-item">
								<a class="nav-link" th:href="@{/orders}">Orders</a>
							</li>
							

							<li class="nav-item">
								<a class="nav-link fas fa-shopping-cart fa-2x" style="color: #fe9765" th:href="@{/cart}"></a>
							</li>
							
							<li class="nav-item dropdown ">
								<a class="nav-link dropdown-toggle font-weight-bold"  data-toggle="dropdown" sec:authentication="principal.fullName"></a>		
								<div class="dropdown-menu"> 
									<a class="dropdown-item"  th:href="@{/account_details}">Account Details</a>
									<a class="dropdown-item" href="javascript: document.logoutForm.submit()">Logout</a>
								</div>
							</li>

							
					</th:block>
					
				</ul>
			</div>

		</nav>
	</div>
	
	<div class="my-2" th:fragment="search_nav">
		
		<div class="bg-white px-2">
			
			<form class="form-inline" th:action="@{/search}" method="get">
				<input type="search" name="keyword" class="form-control" style="width: auto" placeholder="Search" th:value="${keyword}" required />
				 &nbsp;
				<button type="submit" class="btn btn-outline-primary d-inline" ><i class="fa-solid fa-magnifying-glass"></i></button>
			</form>
		</div>
		
	</div>
	
	
	<div class="mb-2" th:fragment="footer_menu">
		<div>
			<nav class="navbar navbar-expand-lg bg-dark navbar-dark">			
				<button class="navbar-toggler" type="button" data-toggle="collapse"
					data-target="bottomNavbar">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse justify-content-center" id="bottomNavbar">
					<ul class="navbar-nav mr-2">
						<li class="nav-item">
							<a class="nav-link" href="">About us</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="">Privacy notice</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="">Return &amp; Refunds</a>
						</li>								
					</ul>
				</div>
			</nav>
		</div>
		<div th:fragment="footer" class="text-center">
			<p>[[${COPYRIGHT}]]</p>
		</div>	
	</div>
</body>
</html>